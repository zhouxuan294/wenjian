<html>
<head>
  <title>闭包：</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600240 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <meta name="content-class" content="maxiang"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="675"/>
<h1>闭包：</h1>

<div><span lang="v2" style="color: #2c3f51; font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; line-height: 1.6; background: none;"><del style="position:relative;display:block;z-index:10;"><a href="http://maxiang.io/#/?provider=evernote&amp;guid=51a700e2-663a-4e32-8282-706f8b066df1&amp;notebook=" style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;">Edit</a></del><div style="color: #2c3f51; font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; line-height: 1.6;">
                        
                    



<h1 style="font-size: 41.6px; margin: 1.2em 0 .6em 0; font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; text-align: start;">闭包：</h1>

<blockquote style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;">
  <ul style="margin-top: 0; margin-bottom: 0; line-height: 1.6;"><li style="line-height: 1.6;">闭包：是一种保护机制，保护里边的比那辆不受外界的影响。</li>
  <li style="line-height: 1.6;">函数执行，形成一个私有作用域，这个私有作用域就是闭包。不销毁的私有作用域才是闭包。</li>
  <li style="line-height: 1.6;">栈内存销毁：当这个作用域没有用处（与外界没有任何关系）时就销毁。</li>
  <li style="line-height: 1.6;">私有作用域销毁：函数执行完成之后，看这个作用域是否还有用，没有用就直接销毁。</li>
  <li style="line-height: 1.6;">全局作用域销毁：关闭页面就会被销毁。</li>
  <li style="line-height: 1.6;">所有匿名函数都不会进行变量提升。</li>
  <li style="line-height: 1.6;">自执行函数也不会有变量提升。</li>
  <li style="line-height: 1.6;">return后边的不会有变量提升。</li>
  <li style="line-height: 1.6;">等号右边的不会进行变量提升。</li>
  </ul>
</blockquote>

<p style="margin: 0 0 1.1em; line-height: 1.6;">闭包的形式：</p>



<pre style="word-wrap: break-word; font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; font-size: .9em; background: #f6f6f6; word-break: break-all; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; position: relative;"><code style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; border-radius: 0; font-size: inherit; background-color: transparent; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em; padding-left: 3.3em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">1.</span>形式<span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">1</span>：
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">2.</span><span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> fn=(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;"></span>)</span>{
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">3.</span>   <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> a=<span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">9</span>;
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">4.</span>   <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">return</span> <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;"></span>)</span>{
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">5.</span>      <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">console</span>.log(a);
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">6.</span>   }
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">7.</span>})();
</div></code></pre>



<pre style="word-wrap: break-word; font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; font-size: .9em; background: #f6f6f6; word-break: break-all; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; position: relative;"><code style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; border-radius: 0; font-size: inherit; background-color: transparent; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em; padding-left: 3.3em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">1.</span>形式<span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">2</span>：
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">2.</span><span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> obj=(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;"></span>)</span>{
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">3.</span>   <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> fn=<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;"></span>)</span>{
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">4.</span>      <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">console</span>.log(<span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">12</span>);
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">5.</span>   };
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">6.</span>   <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">return</span> {
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">7.</span>      <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">f</span>:fn;
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">8.</span>   }
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">9.</span>})();
</div></code></pre>



<pre style="word-wrap: break-word; font-family: 'Source Code Pro',monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; font-size: .9em; background: #f6f6f6; word-break: break-all; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; position: relative;"><code style="font-family: 'Source Code Pro',monospace; white-space: pre-wrap; border-radius: 0; font-size: inherit; background-color: transparent; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em; padding-left: 3.3em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">1.</span>形式<span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">3</span>：
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">2.</span><span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> sum=<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;"></span>)</span>{
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">3.</span>   <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> a=<span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">12</span>;
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">4.</span>   <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">return</span> <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;"></span>)</span>{
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">5.</span>      <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">console</span>.log(a);
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">6.</span>   }
</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="line-height: 1.6; color: #75715e; min-width: 2.2em; display: inline-block; text-align: right; opacity: .8; position: absolute; left: .3em; background-color: transparent;">7.</span>};
</div></code></pre></div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%u95ED%u5305%uFF1A%0A%3E%20-%20%u95ED%u5305%uFF1A%u662F%u4E00%u79CD%u4FDD%u62A4%u673A%u5236%uFF0C%u4FDD%u62A4%u91CC%u8FB9%u7684%u6BD4%u90A3%u8F86%u4E0D%u53D7%u5916%u754C%u7684%u5F71%u54CD%u3002%0A%3E%20-%20%u51FD%u6570%u6267%u884C%uFF0C%u5F62%u6210%u4E00%u4E2A%u79C1%u6709%u4F5C%u7528%u57DF%uFF0C%u8FD9%u4E2A%u79C1%u6709%u4F5C%u7528%u57DF%u5C31%u662F%u95ED%u5305%u3002%u4E0D%u9500%u6BC1%u7684%u79C1%u6709%u4F5C%u7528%u57DF%u624D%u662F%u95ED%u5305%u3002%0A%3E%20-%20%u6808%u5185%u5B58%u9500%u6BC1%uFF1A%u5F53%u8FD9%u4E2A%u4F5C%u7528%u57DF%u6CA1%u6709%u7528%u5904%uFF08%u4E0E%u5916%u754C%u6CA1%u6709%u4EFB%u4F55%u5173%u7CFB%uFF09%u65F6%u5C31%u9500%u6BC1%u3002%0A%3E%20-%20%u79C1%u6709%u4F5C%u7528%u57DF%u9500%u6BC1%uFF1A%u51FD%u6570%u6267%u884C%u5B8C%u6210%u4E4B%u540E%uFF0C%u770B%u8FD9%u4E2A%u4F5C%u7528%u57DF%u662F%u5426%u8FD8%u6709%u7528%uFF0C%u6CA1%u6709%u7528%u5C31%u76F4%u63A5%u9500%u6BC1%u3002%0A%3E%20-%20%u5168%u5C40%u4F5C%u7528%u57DF%u9500%u6BC1%uFF1A%u5173%u95ED%u9875%u9762%u5C31%u4F1A%u88AB%u9500%u6BC1%u3002%0A%3E%20-%20%u6240%u6709%u533F%u540D%u51FD%u6570%u90FD%u4E0D%u4F1A%u8FDB%u884C%u53D8%u91CF%u63D0%u5347%u3002%0A%3E%20-%20%u81EA%u6267%u884C%u51FD%u6570%u4E5F%u4E0D%u4F1A%u6709%u53D8%u91CF%u63D0%u5347%u3002%0A%3E%20-%20return%u540E%u8FB9%u7684%u4E0D%u4F1A%u6709%u53D8%u91CF%u63D0%u5347%u3002%0A%3E%20-%20%u7B49%u53F7%u53F3%u8FB9%u7684%u4E0D%u4F1A%u8FDB%u884C%u53D8%u91CF%u63D0%u5347%u3002%0A%0A%u95ED%u5305%u7684%u5F62%u5F0F%uFF1A%0A%60%60%60javascript%0A%u5F62%u5F0F1%uFF1A%0Avar%20fn%3D%28function%28%29%7B%0A%20%20%20var%20a%3D9%3B%0A%20%20%20return%20function%28%29%7B%0A%20%20%20%20%20%20console.log%28a%29%3B%0A%20%20%20%7D%0A%7D%29%28%29%3B%0A%60%60%60%0A%0A%60%60%60javascript%0A%u5F62%u5F0F2%uFF1A%0Avar%20obj%3D%28function%28%29%7B%0A%20%20%20var%20fn%3Dfunction%28%29%7B%0A%20%20%20%20%20%20console.log%2812%29%3B%0A%20%20%20%7D%3B%0A%20%20%20return%20%7B%0A%20%20%20%20%20%20f%3Afn%3B%0A%20%20%20%7D%0A%7D%29%28%29%3B%0A%60%60%60%0A%0A%60%60%60javascript%0A%u5F62%u5F0F3%uFF1A%0Avar%20sum%3Dfunction%28%29%7B%0A%20%20%20var%20a%3D12%3B%0A%20%20%20return%20function%28%29%7B%0A%20%20%20%20%20%20console.log%28a%29%3B%0A%20%20%20%7D%0A%7D%3B%0A%60%60%60</center><br/></span>
</div></body></html> 